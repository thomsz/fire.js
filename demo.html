<!DOCTYPE html>
<html>
  <body>
    <div id="app">
      <h1>{{title}}</h1>
      <h2>{{message}}</h2>
      <h2>
        <span>Count</span>
        of clicks
        {{count}}
      </h2>
      <button onclick="toggleAnswer()">Toggle</button>
      <button onclick="increase()">Increase hotness</button>
      <button onclick="decrease()">Decrease</button>
    </div>
  </body>

  <style lang="css">
    #app {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    h1 {
      font-size: 2em;
      color: #333;
    }

    h2 {
      font-size: 1.5em;
      color: #333;
    }

    span {
      color: #333;
    }

    button {
      font-size: 1em;
      padding: 0.5em;
      border: 1px solid #333;
      border-radius: 3px;
      background-color: #eee;
      color: #333;
    }
  </style>

  <script src="./fire.js"></script>

  <script>
    const initialState = {
      title: 'Welcome',
      count: 1,
      message: 'Yes'
    }

    const { setState, watch } = new Fire({ initialState })

    const increase = () =>
      setState(({ count }) => ({
        count: count + 1
      }))

    const decrease = () =>
      setState(({ count }) => ({
        count: count - 1
      }))

    const toggleAnswer = () =>
      setState(({ message }) => ({
        message: message === initialState.message
          ? 'No'
          : initialState.message
      }))

    watch({
      count (value, oldValue) {
        if (value > 10) {
          setState({ message: `Oh, no! You're on ðŸ”¥! Previous count: ${oldValue}` })
        }
      },

      message (value) {
        console.log('[watch:message]', value)
      }
    })
  </script>
</html>